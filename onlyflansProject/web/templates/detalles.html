{% extends 'base.html' %}

{% block content %}
  <div class="col-12 col-md-6 offset-0 offset-md-3 mt-4 mb-4">
    <h3 class="text-center">Detalles de cada flan</h3>
  </div>

  <div class="container">
    <div class="row justify-content-center text-center">
      {% for flan in flanes %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-3">
          <div class="card text-bg-light shadow-lg h-100 hover-shadow hover-zoom">
            <img src="{{ flan.image_url }}" class="card-img-top" alt="Flan" style="height: 200px;" />
            <div class="card-body">
              <h5 class="card-title">{{ flan.name }}</h5>
              <!-- Bot贸n para abrir el modal -->
              <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modal-{{ flan.id }}">Ver detalles</button>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="modal-{{ flan.id }}" tabindex="-1" aria-labelledby="modalLabel-{{ flan.id }}" aria-hidden="true">
          <div class="modal-dialog modal-lg"> <!-- Cambiado a modal-lg -->
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modalLabel-{{ flan.id }}">{{ flan.name }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <img src="{{ flan.image_url }}" class="img-fluid" alt="Flan" style="height: 200px;" />
                <h6 class="mt-3 text-muted">${{ flan.price }} CLP</h6>
                <p>{{ flan.description }}</p>
                <!-- Mostrar la preparaci贸n con la etiqueta <pre> -->
                <h6 class="mt-3">Preparaci贸n:</h6>
                <pre class="text-left">{{ flan.preparation }}</pre> <!-- Alineaci贸n a la izquierda -->
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
              </div>
            </div>
          </div>
        </div>

      {% endfor %}
    </div>
  </div>
{% endblock %}
